= Configure Host
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]

Your organization or Anypoint busines group is considered the host partner in Anypoint Partner Manager. Anypoint Business groups are self-contained resource groups that contain Anypoint Platform resources such as APIs and applications.

Within the host page you can do the following:

* Add identifiers to uniquely identify yourself.

* Add certificates owned by your organization.

* Configure validation, acknowledgement, control number, and character set settings applicable to all message flows across all trading partners. You can reuse this global configuration in all message flows with all your trading partners.

* Add a storage mechanism to store your B2B message payloads.

== Update the Host's Profile

. Open Anypoint Partner Manager and select the name of your organization from the left navigation pane. Configure the following based on your indentifier and certificate type. This includes any global settings you need to modify, and the location of your payload storage configuration.

. Add an identifier related to your organization by clicking the *New* button within the `Identifiers` section. 

. Select an identifier type from the `Type` drop-down menu. This uniquely identifies you. For example, depending on your setup, select one of the following: AS2, X12 ISA, X12 GS, or the DUNS number. 

. Provide a value for your identifier and click the *Create Identifier* button.

. Upload any digital certificates by clicking the *New* button within the `Certificates` section. This is your digital certificate (such as an X.509 certificate in PKCS12 file format for the AS2 transport protocol). 

. Upload the digital certificate (typically a .PEM file) provided by clicking the *Upload certificate* button. When a certificate is successfully uploaded you receive a confirmation message.

. Change any of the default global X12 validation, acknowledgement, control number, and character set settings as needed.

The Global X12 setting include:

* Validations
* Control numbers
* Character sets

Refer to the following options for each here.

=== Validations

Apply these at the host level, to make them applicable across all message flows, across trading partners.

[%header,cols="3s,7a"]
|===
|Setting |Description

|Fail document when value length outside allowed range
|If selected, a transaction with values too long or too short is rejected. If not selected, the values are used anyway and the transaction is not rejected. In either case the error is logged and reported in 997/999 acknowledgments

Required?
`No`

Default
`Selected`

|Fail document when invalid character in value
|If selected, a transaction with invalid characters is rejected. If not selected, the characters are either passed through or substituted and the transaction is not rejected. In either case the error is reported in 997/999 acknowledgments

Required?
`No`

Default
`Not Selected`

|Fail document if value is repeated too many times
|If selected, a transaction with values repeated too many or too few times is rejected. If not selected, the value are accepted and the transaction is not rejected. In either case the error is reported in 997/999 acknowledgments

Required?
`No`

Default
`Selected`

|Fail document if unknown segments are used
|If selected, a transaction containing any unknown segments is rejected. If not selected, unknown segments are ignored and the transaction is not rejected. In either case the error is reported in 997/999 acknowledgments

Required?
`No`

Default
`Selected`

|Fail document when segments are out of order
|If selected, a transaction with segments out of order is rejected. If not selected, the segment can be reordered the transaction is not rejected. In either case the error is reported in 997/999 acknowledgments

Required?
`No`

Default
`Selected`

|Fail document when unused segments are included
|If selected, a transaction containing segments marked as unused in the schema is rejected. If not selected, the transaction is not rejected and the unused segments are ignored. In either case the error is reported in 997/999 acknowledgments

Required?
`No`

Default
`Selected`

|Fail document when too many repeats of a segment
|A transaction with a segment repeated too many times is rejected. The error is reported in 997/999 acknowledgments

Required?
`No`

Default
`Selected`
|===

=== Control Numbers

Apply  validations related to your trading partners use of control numbers within the X12 message.

[%header,cols="3s,7a"]
|===
|Setting |Description

|Requires unique interchange control number (ISA13)
|If selected, Anypoint Partner Manager records the interchange numbers previously processed and rejects any duplicate interchange numbers from the same partner (as determined by the interchange sender and receiver identification). If not selected, allows processing of the received interchange to continue

Required?
`No`

Default
`Not Selected`

|Requires unique group control number (GS06)
|If selected, Anypoint Partner Manager enforces globally unique Group Control Numbers (GS06) for received functional groups. This configuration requires group numbers to be unique across all interchanges received from the same partner and application (as determined by the interchange sender and receiver identification, combined with the functional group sender and receiver application codes)

Required?
`No`

Default
`Not Selected`

|Requires unique transaction set control number (ST02)
|If selected, Anypoint Partner Manager enforces globally unique Transaction Set Control Numbers (ST02) for received transaction sets. This configuration requires transaction set numbers to be unique across all functional groups received from the same partner and application (as determined by the interchange sender and receiver identification, combined with the functional group sender and receiver application codes)

Required?
`No`

Default
`Not Selected`
|===

=== Character Sets

Selected character set and encoding options pertaining to your partners and/or your X12 message.

[%header,cols="3s,7a"]
|===
|Setting |Description

|Character set
|Characters allowed in string data. Invalid characters are replaced by the substitution character, if used, or rejected as errors if no substitution character is set or enabled for receive messages in parser options. Either way the invalid characters are logged, and for receive messages are reported in 997 functional acknowledgments.

Possible values include: `Basic`, `Extended`, `Unrestricted`

Required?
`Yes`

Default
`Extended`

|Character encoding
|Indicates the character encoding for messages. This character encoding is always used for both send and receive messages.

Possible values include: `ASCII`, `ISO8859_1`, `UTF-8`

Required?
`No`

Default
`Not Selected`
|===

[start=4]
. Configure the storage API that needs to be used to store your B2B message payloads. This storage API was setup during Partner Manager Setup. The storage API is the location where you store payloads pertaining to the messages you send to, and receive from your partners.

After you configure the host, you can Configure your trading partner(s).

== See Also

* xref:x12-identity-settings.adoc[X12 Settings]
// * xref:configure-partner.adoc[Configure Partner]
